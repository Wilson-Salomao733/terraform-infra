name: CI Pipeline

on:
  workflow_dispatch:  # Permite rodar manualmente

jobs:
  call-terraform:
    uses: Wilson-Salomao733/terraform-infra/.github/workflows/develop.yml@main
    secrets: inherit
    with:
      environment: dev
      aws-assume-role-arn: ${{ secrets.AWS_ASSUME_ROLE_ARN }}
      aws-region: us-east-2
      aws-statefile-s3-bucket: ${{ secrets.AWS_STATEFILE_S3_BUCKET }}
      aws-lock-dynamodb-table: ${{ secrets.AWS_LOCK_DYNAMODB_TABLE }}